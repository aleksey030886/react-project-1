{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/reducer/dialogs-reducer.js","components/Users/Users.module.css","api/api.js","reportWebVitals.js","components/Navbar/Navbar.js","utils/object-helpers.js","redux/reducer/users-reducer.js","components/common/Paginator/Paginator.js","img/avatar-men.jpg","components/Users/User.js","components/Users/Users.js","redux/selectors/users-selectors.js","components/Users/UsersContainer.js","img/logo.jpg","components/Header/Header.js","redux/reducer/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","components/Login/LoginContainer.js","redux/reducer/app-reducer.js","redux/reducer/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","utils/validators/validators.js","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","img/preloader.gif","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","hoc/withAuthRedirect.js","redux/reducer/profile-reducer.js"],"names":["module","exports","SEND_MESSAGE","initialState","users","id","name","messages","message","sendMessageActionCreator","newMessageBody","type","newMessageText","dialogsReducer","state","action","newMessage","instanse","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUsers2","post","follow","userId","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","style","nav","item","active","to","activeClassName","updateObjectArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","setTotalUsersCount","count","toggleIsFetching","toggleFollowingProgress","followUnfolowFlow","dispatсh","apiMethod","actionCreator","a","resultCode","usersReducer","followed","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","usersPhoto","Users","props","getUsersSelector","usersPage","getPageSize","createSelector","getTotalUsersCount","getCurrentPage","getIsFetching","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","href","logo","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","dispatch","authReducer","HeaderContainer","auth","maxLength6","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","component","Input","placeholder","validate","required","formSummaryError","Login","formData","length","stopSubmit","_error","withRouter","withAuthRedirect","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","dialogsPage","profilePage","profileReducer","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","LoginContainer","AppContainer","promise","Promise","all","MainApp","basename","process","ReactDOM","document","getElementById","value","maxLength","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","preloader","mapStateToPropsForRedirect","RedirectComponent","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost"],"mappings":"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","file":"static/js/main.92136161.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Xhirx\",\"item\":\"Navbar_item__2J_0j\",\"active\":\"Navbar_active__IERSq\"};","const SEND_MESSAGE = \"samurai/dialogs/SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n    users: [\r\n        {id: 1, name: 'Andrey'},\r\n        {id: 2, name: 'Dmitriy'},\r\n        {id: 3, name: 'Marina'},\r\n        {id: 4, name: 'Masha'},\r\n        {id: 5, name: 'Sasha'},\r\n        {id: 11, name: 'empty'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hello Andrey\"},\r\n        {id: 2, message:\"Hello Dmitriy\"},\r\n        {id: 3, message:\"Hello Marina\"},\r\n        {id: 4, message:\"Hello Masha\"},\r\n        {id: 5, message:\"Hello Denis\"},\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let newMessage = action.newMessageText\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 10, message: newMessage}],\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageText: newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2Ojq9\",\"selectedPage\":\"Users_selectedPage__1wK_m\"};","import * as axios from \"axios\";\r\nimport React from \"react\";\r\n\r\nconst instanse = axios.create ({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"b1775b2f-c3a5-4509-8dc9-90b5629de7c3\"\r\n    }\r\n\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instanse.get(`users?page=${currentPage}&count=${pageSize}`,\r\n            {\r\n                withCredentials: true\r\n            })\r\n            .then(response => response.data\r\n            )\r\n    },\r\n    getUsers2(currentPage, pageSize) {\r\n        return instanse.post(`follow?page=${currentPage}&count=${pageSize}`,\r\n            {\r\n                withCredentials: true\r\n            })\r\n            .then(response => response.data\r\n            )\r\n    },\r\n    follow(userId) {\r\n        return instanse.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instanse.delete(`unfollow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instanse.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instanse.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instanse.put(`profile/status/`, {status: status});\r\n    },\r\n}\r\n\r\nexport const dialogsAPI = {\r\n    getDialogs() {\r\n        return instanse.get(`dialogs`, { withCredentials: true})\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    let {id, login, email} = response.data.data\r\n                    this.props.setAuthUserData(id, login, email)\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instanse.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instanse.post(`auth/login`, {email: email, password: password, rememberMe: rememberMe});\r\n    },\r\n    logout() {\r\n        return instanse.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport style from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to=\"/profile\" activeClassName={style.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={style.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to=\"/news\" activeClassName={style.active}>News</NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to=\"/music\" activeClassName={style.active}>Music</NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to=\"/settings\" activeClassName={style.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to=\"/users\" activeClassName={style.active}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","\r\n\r\nexport const updateObjectArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"samurai/users/FOLLOW\";\r\nconst UNFOLLOW = \"samurai/users/UNFOLLOW\";\r\nconst SET_USERS = \"samurai/users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"samurai/users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"samurai/users/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"samurai/users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"samurai/users/TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [ ],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId] : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatсh) => {\r\n        dispatсh(toggleIsFetching(true));\r\n        dispatсh(setCurrentPage(page));\r\n        let data =  await usersAPI.getUsers(page, pageSize);\r\n        dispatсh(toggleIsFetching(false));\r\n        dispatсh(setUsers(data.items));\r\n        dispatсh(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfolowFlow = async (dispatсh, userId, apiMethod, actionCreator, isFetching) => {\r\n    dispatсh(toggleIsFetching(true));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode == 0) {\r\n        dispatсh(actionCreator(userId));\r\n    }\r\n    dispatсh(toggleFollowingProgress(isFetching, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatсh) => {\r\n        followUnfolowFlow(dispatсh, userId, usersAPI.follow.bind(usersAPI), followSuccess, true)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatсh) => {\r\n        followUnfolowFlow(dispatсh, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess, false)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from \"react\";\r\nimport style from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pageCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [ ];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\r\n    return (\r\n        <div className={style.paginator}>\r\n            { portionNumber > 1 &&\r\n            <button onClick={ () => { setPortionNumber(portionNumber - 1)}}> PREV </button>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn ({\r\n                    [style.selectedPage]: currentPage === p\r\n                }, style.pageNumber)}\r\n                        key={p}\r\n                        onClick={ (e) => {\r\n                        onPageChanged(p);\r\n                    }}>{p}</span>\r\n            })}\r\n\r\n            { portionCount > portionNumber  &&\r\n            <button onClick={ () => { setPortionNumber(portionNumber + 1)}} > NEXT </button>\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/avatar-men.c3c61b5b.jpg\";","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport userPhoto from \"../../img/avatar-men.jpg\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst User = ({user, follow, unfollow}) => {\r\n    let u = user;\r\n    return <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                                 className={style.usersPhoto}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {u.followed\r\n                                ? <button /*disabled={props.followingInProgress.some(id => id === u.id)}*/\r\n                                    onClick={() => {\r\n                                        unfollow(u.id);\r\n                                    }}>UnFollow</button>\r\n\r\n                                : <button /*disabled={props.followingInProgress.some(id => id === u.id)}*/\r\n                                    onClick={() => {\r\n                                        follow(u.id);\r\n                                    }}>Follow</button>}\r\n\r\n                        </div>\r\n                    </span>\r\n        <span>\r\n                    <span>\r\n                        <div>\r\n                            {u.name}\r\n                        </div>\r\n                        <div>\r\n                            {u.status}\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        {/*<div>*/}\r\n                        {/*    {u.location.country}*/}\r\n                        {/*</div>*/}\r\n                        {/*<div>*/}\r\n                        {/*    {u.location.city}*/}\r\n                        {/*</div>*/}\r\n                    </span>\r\n                </span>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\n\r\nconst Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\n        return <div>\r\n            <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged}/>\r\n            <div>\r\n                {\r\n                    users.map(u =>\r\n                        <User user={u}\r\n                              key={u.id}\r\n                              follow={props.follow}\r\n                              unfollow={props.unfollow} />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector( getUsersSelector, (users) => {\r\n     return users.filter( u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    requestUsers,\r\n    unfollow,\r\n    toggleIsFetching,\r\n    toggleFollowingProgress\r\n} from \"../../redux/reducer/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {getUsersSelector, getCurrentPage, getIsFetching, getPageSize, getTotalUsersCount} from \"../../redux/selectors/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n        // this.props.setCurrentPage(pageNumber);\r\n        // this.props.toggleIsFetching(true);\r\n        // usersAPI.getUsers().then(data => {\r\n        //     this.props.toggleIsFetching(false);\r\n        //     this.props.setUsers(data.items);\r\n        // });\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <div>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                          pageSize={this.props.pageSize}\r\n                          currentPage={this.props.currentPage}\r\n                          onPageChanged={this.onPageChanged}\r\n                          users={this.props.users}\r\n                          follow={this.props.follow}\r\n                          unfollow={this.props.unfollow}\r\n                          toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                          followingInProgress={this.props.followingInProgress}\r\n            />\r\n            </div>\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return{\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.isFetching   // урок номер 81 фоловеры добавить 14 минута\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getIsFetching(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,{\r\n        follow, unfollow, getUsers: requestUsers,\r\n        setCurrentPage, setTotalUsersCount,\r\n        toggleIsFetching, toggleFollowingProgress})\r\n)(UsersContainer)","export default __webpack_public_path__ + \"static/media/logo.f87c79db.jpg\";","import React from 'react';\r\nimport logo from \"../../img/logo.jpg\";\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={style.header}>\r\n            <a href=\"/\"><img src={logo} /></a>\r\n            <div className={style.loginBlock} >\r\n                { props.isAuth\r\n                    ? <div>{props.login} <button onClick={props.logout}>Log Out</button></div>\r\n                    : <NavLink to={\"/login\"}>Login</NavLink>}\r\n\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"samurai/auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: true\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({ type: SET_USER_DATA, payload: {userId, login, email, isAuth} });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, login, email, true));\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducer/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header { ...this.props} />;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst Login = (login, isAuth) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.isAuth)\r\n    }\r\n\r\n    // редирект с логина на профиле\r\n    if (!isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h3>Login</h3>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst maxLength6 = maxLengthCreator(66)\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field component={Input} name={\"email\"} placeholder={\"Email\"} validate={[required, maxLength6]} />\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={\"password\"} placeholder={\"Password\"} validate={[required, maxLength6]} type={\"password\"}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"} validate={[required, maxLength6]} /> remember me\r\n            </div>\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Log IN</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nexport default Login;","import React from 'react';\r\nimport Login from \"./Login\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getAuthUserData, login, logout, setAuthUserData} from \"../../redux/reducer/auth-reducer\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return{\r\n//         setAuthUserData: (newMessageBody) => {\r\n//             dispatch(sendMessageActionCreator(newMessageBody))\r\n//         },\r\n//         getAuthUserData: (newMessageBody) => {\r\n//             dispatch(sendMessageActionCreator(newMessageBody))\r\n//         },\r\n//         login: (newMessageBody) => {\r\n//             dispatch(sendMessageActionCreator(newMessageBody))\r\n//         },\r\n//         : () => {\r\n//             dispatch(sendMessageActionCreator(newMessageBody))\r\n//         },\r\n//     }\r\n// }\r\n\r\nexport default\r\n    compose(connect(mapStateToProps, {setAuthUserData, getAuthUserData, login, logout}),\r\n        withRouter,\r\n        withAuthRedirect\r\n    )(Login);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"samurai/app/INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n    .then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n};\r\n\r\nexport default appReducer;","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducer/profile-reducer\";\r\nimport sidebarReducer from \"./reducer/sidebar-reducer\";\r\nimport dialogsReducer from \"./reducer/dialogs-reducer\";\r\nimport usersReducer from \"./reducer/users-reducer\";\r\nimport authReducer from \"./reducer/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./reducer/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    dialogsPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from \"react\";\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React, {Component} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginContainer from \"./components/Login/LoginContainer\";\nimport {initializeApp} from \"./redux/reducer/app-reducer\"\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends Component {\n\n    componentDidMount()\n    {\n        this.props.initializeApp();\n    }\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader />\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navbar/>\n                <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\n                <Route path=\"/users\" render={() => <UsersContainer/>}/>\n                <Route path=\"/login\" render={() => <LoginContainer/>}/>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n        withRouter,\n        connect(mapStateToProps, {initializeApp}))(App);\n\nlet MainApp = (props) => {\n    return <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer />\n        </Provider>\n    </HashRouter>\n}\n\nexport default MainApp;","import React from 'react'\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport MainApp from './App';\n\nReactDOM.render(\n    <MainApp />,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\r\n\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value.length > maxLength ) return `Max Length is ${maxLength} symbols`;\r\n    return undefined;\r\n\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => value => {\r\n    if (value.length < minLength ) return `Min Length is ${minLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1Flps\",\"error\":\"FormsControls_error__2gTp7\",\"formSummaryError\":\"FormsControls_formSummaryError__1-lTE\"};","import React from \"react\";\r\nimport style from \"./FormsControls.module.css\"\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta: {touched, error}, children, ...props}) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span> {error} </span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = {...props};\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /> </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = {...props};\r\n    return <FormControl {...props}><input {...input} {...restProps} /> </FormControl>\r\n}\r\n\r\nexport const createField = (component, name, placeholder, validators, props = {}, text = \"\") => {\r\n    <div>\r\n        <Field component={component} name={name} placeholder={placeholder} validate={validators} {...props}/>{text}\r\n    </div>\r\n}\r\n\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//     const hasError = meta.touched && meta.error;\r\n//\r\n//     return (\r\n//         <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n//             <div>\r\n//                 <textarea {...input} {...props}/>\r\n//             </div>\r\n//             {hasError && <span> {meta.error} </span>}\r\n//\r\n//         </div>\r\n//     )\r\n// }","export default __webpack_public_path__ + \"static/media/preloader.2084c6dc.gif\";","import preloader from \"../../../img/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src = {preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2K1n8\",\"pageNumber\":\"Paginator_pageNumber__2lSMK\",\"selectedPage\":\"Paginator_selectedPage__236hB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1HbK8\",\"loginBlock\":\"Header_loginBlock__gn0RD\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import {profileAPI, usersAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = \"samurai/profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"samurai/profile/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"samurai/profile/SET_STATUS\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message:\"Hi, how are you?\", likeCount:\"14\"},\r\n        {id: 2, message:\"My name is John\", likeCount:\"16\"},\r\n        {id: 3, message:\"Hi John\", likeCount:\"190\"}\r\n    ],\r\n    profile: null,\r\n    status: \" \"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likeCount: 8\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST , newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(status);\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}